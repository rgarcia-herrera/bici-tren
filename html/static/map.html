<html>

  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
	  integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
	  crossorigin=""/>

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
	    integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
	    crossorigin=""></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.AnimatedMarker/1.0.0/AnimatedMarker.min.js"
	    integrity="sha256-QZcOqpUnJtOC73y2+eyB/9wHp0QlN6BnGypOab1v0ug=" crossorigin="anonymous"></script>
    
    <script type="text/javascript" src="leafletembed.js"></script>

    <script
       src="https://code.jquery.com/jquery-3.2.1.js"
       integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
       crossorigin="anonymous"></script>
    
  </head>

  <body>
    <div id="map" style="height: 700px; width: 1000px;">
    </div>

    <script>
      initmap();

var line = L.polyline([
    [-99.160932, 19.419690],
    [-99.160210, 19.419848],
    [-99.160117, 19.419867],
    [-99.158943, 19.420133],
    [-99.157728, 19.420406],
    [-99.158057, 19.421618],
    [-99.158069, 19.421646],
    [-99.158476, 19.423268],
    [-99.158828, 19.424617],
    [-99.158836, 19.424636],
    [-99.158898, 19.424748],
    [-99.158936, 19.424814],
    [-99.159253, 19.425443],
    [-99.159253, 19.425444],
    [-99.159745, 19.426337],
    [-99.159764, 19.426377],
    [-99.160185, 19.427254],
    [-99.160671, 19.428140],
    [-99.160821, 19.428348],
    [-99.160864, 19.428422],
    [-99.160906, 19.428489],
    [-99.161391, 19.429489],
    [-99.160294, 19.430018],
    [-99.160150, 19.430100],
    [-99.160065, 19.430149],
    [-99.159890, 19.430248],
    [-99.159839, 19.430283],
    [-99.159768, 19.430331],
    [-99.159538, 19.430496],
    [-99.159321, 19.430632],
    [-99.159135, 19.430726],
    [-99.158969, 19.430797],
    [-99.158751, 19.430897],
    [-99.158624, 19.430976],
    [-99.158507, 19.431076],
    [-99.158383, 19.431177],
    [-99.158210, 19.431285],
    [-99.158083, 19.431342],
    [-99.157983, 19.431364],
    [-99.157919, 19.431377],
    [-99.157827, 19.431417],
    [-99.157260, 19.431643],
    [-99.156707, 19.431900],
    [-99.156319, 19.432063],
    [-99.155707, 19.432367],
    [-99.155238, 19.432588],
    [-99.155032, 19.432567],
    [-99.154890, 19.432563],
    [-99.154683, 19.432581],
    [-99.154495, 19.432629],
    [-99.154387, 19.432753]]),
    animatedMarker = L.animatedMarker(line.getLatLngs());

map.addLayer(animatedMarker);

    </script>
    
    <button onclick="update_position();">bike!</button>
    <button onclick="update_animation();">animated bike!</button>    
  </body>
</html>
